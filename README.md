# Консольный чат на C++

## Участники команды
- Дмитрий Бакулин

---

## Описание проекта
Проект представляет собой консольный чат, реализованный на C++ с использованием **ООП, шаблонов и обработки исключений**.  
Все данные хранятся в памяти: регистрация пользователей, авторизация, отправка сообщений и просмотр сообщений.  

Проект полностью разделён на `.h` и `.cpp` файлы для удобства компиляции и поддержки.  

---

## Основные возможности
1. Регистрация пользователей (имя, логин, пароль)  
2. Авторизация по логину и паролю  
3. Выход из профиля  
4. Отправка сообщений: 
   - конкретному пользователю по логину  
   - рассылка всем (пустой логин)  
5. Просмотр всех сообщений, относящихся к текущему пользователю  
6. Проверка уникальности логина при регистрации  
7. Обработка ошибок с помощью **исключений**  

---

## Структура проекта

+ **main.cpp** - Точка входа в программу
+ **Chat.h** - Объявление класса Chat
+ **Chat.cpp** - Реализация методов класса Chat
+ **User.h** - Объявление класса User
+ **User.cpp** - Реализация класса User
+ **Message.h** - Структура Message
+ **Storage.h** - Шаблонный контейнер Storage<T, MAX_SIZE>
+ **Exceptions.h** - Классы исключений для чата

---

## Описание классов

### User
- Представляет пользователя чата
- Содержит:
  - `_login` — уникальный логин пользователя  
  - `_password` — пароль  
  - `_name` — отображаемое имя
- Методы:
  - `checkLogin(string)` — проверка логина  
  - `checkPassword(string)` — проверка пароля  
  - `getName()` — возвращает имя  
  - `getLogin()` — возвращает логин

---

### Message
- Структура для хранения сообщений
- Поля:
  - `sender` — логин отправителя  
  - `receiver` — логин получателя (пусто = сообщение всем)  
  - `text` — текст сообщения  

---

### Storage<T, MAX_SIZE> (шаблонный класс)
- Универсальный контейнер для хранения объектов любого типа
- Методы:
  - `add(shared_ptr<T>)` — добавление элемента, выбрасывает `overflow_error` при переполнении
  - `get(int)` — получить элемент по индексу
  - `count()` — количество элементов
  - `find(Func)` — поиск элемента по условию (например, логин совпадает)
- Используется для хранения пользователей и сообщений

---

### Exceptions
- **ChatException** — базовый класс для всех исключений чата
- **UserAlreadyExists** — попытка зарегистрировать логин, который уже существует
- **UserNotFound** — попытка отправки сообщения пользователю, которого нет
- **AuthorizationFailed** — неверный логин или пароль при авторизации

---

### Chat
- Основной класс для работы с чатом
- Содержит:
  - `Storage<User, MAX_USERS> users` — хранение пользователей  
  - `Storage<Message, MAX_MESSAGES> messages` — хранение сообщений  
  - `currentUser` — текущий авторизованный пользователь
- Методы:
  - `Registration()` — регистрация нового пользователя с проверкой логина
  - `Avtorization()` — вход в чат
  - `logout()` — выход из профиля
  - `sendMessage()` — отправка сообщения пользователю или всем
  - `showMessages()` — отображение всех сообщений, относящихся к текущему пользователю

---

## Исключения
- Регистрация с занятым логином → `UserAlreadyExists`
- Авторизация с неверным логином или паролем → `AuthorizationFailed`
- Отправка сообщения несуществующему пользователю → `UserNotFound`
- Переполнение контейнера пользователей или сообщений → `overflow_error` из шаблона Storage

---

## Используемые технологии и принципы
- C++ (C++11+)  
- **Умные указатели `shared_ptr`** для управления памятью  
- **Шаблонные классы** для универсального хранения данных  
- **Исключения** для обработки ошибок  
- **ООП**: инкапсуляция, классы и методы  
- Разделение на **.h** и **.cpp** файлы для чистой архитектуры  

---
